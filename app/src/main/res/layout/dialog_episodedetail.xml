<?xml version="1.0" encoding="utf-8"?>
<layout xmlns:tools="http://schemas.android.com/tools"
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">
  <data>
    <import type="android.view.View" />
    <variable
        name="podcast"
        type="com.caldeirasoft.basicapp.data.entity.Podcast"/>
    <variable
        name="episode"
        type="com.caldeirasoft.basicapp.data.entity.Episode"/>
    <variable
        name="handler"
        type="com.caldeirasoft.basicapp.ui.episodedetail.EpisodeDetailViewModel"/>
  </data>

  <androidx.coordinatorlayout.widget.CoordinatorLayout
      android:orientation="vertical"
      android:layout_width="match_parent"
      android:layout_height="match_parent">


    <LinearLayout android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:orientation="vertical">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:id="@+id/headerLayout"
            android:layout_width="match_parent"
            android:layout_height="120dp"
            android:background="@color/black"
            android:orientation="horizontal">

            <ImageView
                android:id="@+id/backdrop"
                android:layout_width="368dp"
                android:layout_height="match_parent"
                android:alpha="0.2"
                android:scaleType="centerCrop"
                app:imageUrl="@{podcast.imageUrl}"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <ImageView
                android:id="@+id/img_row"
                android:layout_width="90dp"
                android:layout_height="0dp"
                android:layout_margin="10dp"
                android:background="@drawable/thumb_1_0"
                android:contentDescription="_Thumbnail"
                app:imageUrl="@{podcast.imageUrl}"
                app:layout_constraintDimensionRatio="W,1:1"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent" />

            <TextView
                android:id="@+id/episodeTitle"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:layout_marginStart="8dp"
                android:layout_marginTop="10dp"
                android:layout_marginRight="10dp"
                android:ellipsize="end"
                android:maxLines="2"
                android:text="@{episode.title, default=`Default Title`}"
                android:textColor="@color/white"
                android:textSize="17sp"
                android:textStyle="bold"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toEndOf="@+id/img_row"
                app:layout_constraintTop_toTopOf="parent" />

            <TextView
                android:id="@+id/podcastTitle"
                android:layout_width="0dp"
                android:layout_height="wrap_content"
                android:ellipsize="end"
                android:maxLines="1"
                android:text="@{podcast.title, default=`Default Podcast`}"
                android:textColor="@color/light_gray"
                android:textSize="15sp"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintStart_toStartOf="@+id/episodeTitle"
                app:layout_constraintTop_toBottomOf="@id/episodeTitle" />

            <TextView
                android:id="@+id/episodePublishedFormat"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:drawableStart="@drawable/ic_today_12dp"
                android:drawablePadding="2dp"
                android:drawableTint="@color/light_gray"
                android:text="@{episode.publishedFormat(), default=`Date`}"
                android:textColor="@color/light_gray"
                android:textSize="12sp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintLeft_toLeftOf="@id/podcastTitle"
                app:layout_constraintTop_toBottomOf="@id/podcastTitle" />

        </androidx.constraintlayout.widget.ConstraintLayout>

      <LinearLayout
          android:layout_width="match_parent"
          android:layout_height="match_parent"
          android:layout_marginTop="0dp"
          android:layout_marginLeft="12dp"
          android:layout_marginRight="12dp"
          android:orientation="vertical">

          <!-- button bar -->
          <androidx.constraintlayout.widget.ConstraintLayout
              android:layout_width="match_parent"
              android:layout_height="wrap_content"
              android:background="@android:color/transparent"
              android:orientation="horizontal">

              <ImageButton
                  android:id="@+id/button_play"
                  style="?android:attr/borderlessButtonStyle"
                  android:layout_width="36dp"
                  android:layout_height="wrap_content"
                  android:layout_gravity="center"
                  android:scaleType="center"
                  android:src="@drawable/ic_play_circle_outline_24dp"
                  android:tint="@color/colorPrimaryDark"
                  android:contentDescription="@string/label_play"
                  app:layout_constraintHorizontal_chainStyle="spread_inside"
                  app:layout_constraintStart_toStartOf="parent"/>

              <ImageButton
                  android:id="@+id/button_favorite"
                  style="?android:attr/borderlessButtonStyle"
                  android:layout_width="36dp"
                  android:layout_height="wrap_content"
                  android:layout_gravity="center"
                  android:scaleType="center"
                  android:src="@{episode.favorite ? @drawable/ic_favorite_border_24dp : @drawable/ic_favorite_24dp}"
                  android:tint="@color/colorPrimaryDark"
                  app:layout_constraintEnd_toStartOf="@+id/button_upnext"
                  app:layout_constraintStart_toEndOf="@+id/button_play" />

              <ImageButton
                  android:id="@+id/button_upnext"
                  style="?android:attr/borderlessButtonStyle"
                  android:layout_width="36dp"
                  android:layout_height="wrap_content"
                  android:layout_gravity="center"
                  android:scaleType="center"
                  android:src="@drawable/ic_add_to_top_24dp"
                  android:tint="@color/colorPrimaryDark"
                  app:layout_constraintEnd_toStartOf="@+id/button_upend"
                  app:layout_constraintStart_toEndOf="@+id/button_favorite" />

              <ImageButton
                  android:id="@+id/button_upend"
                  style="?android:attr/borderlessButtonStyle"
                  android:layout_width="36dp"
                  android:layout_height="wrap_content"
                  android:layout_gravity="center"
                  android:layout_marginEnd="8dp"
                  android:scaleType="center"
                  android:src="@drawable/ic_add_to_bottom_24dp"
                  android:tint="@color/colorPrimaryDark"
                  app:layout_constraintEnd_toEndOf="parent" />
          </androidx.constraintlayout.widget.ConstraintLayout>

          <!-- separator -->
          <View android:layout_width="match_parent"
              android:layout_height="1dp"
              android:layout_marginTop="10dp"
              android:background="@android:color/darker_gray"/>

          <!-- description -->
          <TextView style="@style/HeaderTextStyle"
              android:text="_Description" />

          <TextView android:id="@+id/podcastDescription"
              android:layout_width="wrap_content"
              android:layout_height="match_parent"
              android:textAlignment="viewStart"
              android:textSize="15sp"
              android:text="@{episode.description}"/>
      </LinearLayout>
    </LinearLayout>

  </androidx.coordinatorlayout.widget.CoordinatorLayout>
</layout>